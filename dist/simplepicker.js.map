{"version":3,"sources":["webpack://SimplePicker/webpack/bootstrap","webpack://SimplePicker/./lib/date-util.js","webpack://SimplePicker/./lib/template.js","webpack://SimplePicker/./lib/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Date","monthTracker","years","months","days","fill","arr","upto","concat","scrapeMonth","date","originalDate","getTime","year","getFullYear","month","getMonth","data","current","setDate","undefined","tracker","rowTracker","_date","getDate","day","getDay","lastRow","lastRowLength","length","filled","dateEndings","st","nd","rd","template","str","times","repeated","repeat","lib_today","$","sel","document","querySelector","$$","querySelectorAll","lib_SimplePicker","SimplePicker","el","_classCallCheck","this","Error","selectedDate","$simplepicker","injectTemplate","init","initListeners","_eventHandlers","_validOnListeners","$simplepickerWrapper","$trs","$tds","$headerMonthAndYear","$monthAndYear","$date","$day","$time","$timeInput","$cancel","$ok","render","todaysDate","toString","$todayEl","findElementWithDate","selectDate","updateDateComponents","$template","createElement","innerHTML","appendChild","content","cloneNode","forEach","td","classList","remove","monthAndYear","includes","getDisplayDate","clearRows","week","index","children","removeAttribute","setAttribute","trim","alreadyActive","add","returnLastIfNotFound","lastTd","contains","baseClass","$timeIcon","$timeSection","style","display","$calenderIcon","$calenderSection","$active","setMonth","scrapeNextMonth","scrapePreviousMonth","$dateTd","_this","close","callEvent","f","addEventListener","e","target","tagName","toLowerCase","stopPropagation","handleIconButtonClick","input","timeString","_input$split2","_slicedToArray","split","hour","minute","isPM","formatTimeFromInputElement","func","event","dispatcher","handler","push","window"],"mappings":"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","file":"simplepicker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"mwqp\");\n","const today = new Date();\r\nexport const monthTracker = {\r\n  years: {}\r\n};\r\n\r\nexport const months = [\r\n  'January',\r\n  'Febuary',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December'\r\n];\r\n\r\nexport const days = [\r\n  'Sunday',\r\n  'Monday',\r\n  'Tuesday',\r\n  'Wednesday',\r\n  'Thrusday',\r\n  'Friday',\r\n  'Saturday'  \r\n];\r\n\r\nfunction fill(arr, upto) {\r\n  arr = [].concat(arr);\r\n  for (let i = 0; i < upto; i++) {\r\n    arr[i] = null;\r\n  }\r\n\r\n  return arr;\r\n}\r\n\r\n// builds the calender for one month given a date\r\n// which is end, start or in middle of the month\r\nexport function scrapeMonth(date) {\r\n  const originalDate = new Date(date.getTime());\r\n  const year = date.getFullYear();\r\n  const month = date.getMonth();\r\n\r\n  const data = {\r\n    date: originalDate\r\n  };\r\n\r\n  monthTracker.current = new Date(date.getTime());\r\n  monthTracker.current.setDate(1);\r\n  monthTracker.years[year] = monthTracker.years[year] || {};\r\n  if (monthTracker.years[year][month] !== undefined) {\r\n    data.month = monthTracker.years[year][month];\r\n    return data;\r\n  }\r\n\r\n  date = new Date(date.getTime());\r\n  date.setDate(1);\r\n  monthTracker.years[year][month] = [];\r\n\r\n  let tracker = monthTracker.years[year][month];\r\n  let rowTracker = 0;\r\n  while (date.getMonth() === month) {\r\n    const _date = date.getDate();\r\n    const day = date.getDay();\r\n    if (_date === 1) {\r\n      tracker[rowTracker] = fill([], day);\r\n    }\r\n\r\n    tracker[rowTracker] = tracker[rowTracker] || [];\r\n    tracker[rowTracker][day] = _date;\r\n\r\n    if (day === 6) {\r\n      rowTracker++;\r\n    }\r\n\r\n    date.setDate(date.getDate() + 1);\r\n  }\r\n  \r\n  let lastRow = 5;\r\n  if (tracker[5] === undefined) {\r\n    lastRow = 4;\r\n    tracker[5] = fill([], 7);\r\n  }\r\n\r\n  let lastRowLength = tracker[lastRow].length;\r\n  if (lastRowLength < 7) {\r\n    let filled = tracker[lastRow].concat(fill([], 7 - lastRowLength));\r\n    tracker[lastRow] = filled;\r\n  }\r\n\r\n  data.month = tracker;\r\n  return data;\r\n}\r\n\r\nexport function scrapePreviousMonth() {\r\n  const date = monthTracker.current;\r\n  date.setMonth(date.getMonth() - 1);\r\n  return scrapeMonth(date);\r\n}\r\n\r\nexport function scrapeNextMonth() {\r\n  const date = monthTracker.current;\r\n  date.setMonth(date.getMonth() + 1);\r\n  return scrapeMonth(date);\r\n}\r\n\r\nconst dateEndings = {\r\n  st: [1, 21, 31],\r\n  nd: [2, 22],\r\n  rd: [3, 23]\r\n};\r\n\r\nexport function getDisplayDate(_date) {\r\n  const date = _date.getDate();\r\n  if (dateEndings.st.includes(date)) {\r\n    return date + 'st';\r\n  }\r\n\r\n  if (dateEndings.nd.includes(date)) {\r\n    return date + 'nd';\r\n  }\r\n\r\n  if (dateEndings.rd.includes(date)) {\r\n    return date + 'rd';\r\n  }\r\n\r\n  return date + 'th';\r\n}\r\n\r\nexport function formatTimeFromInputElement(input) {\r\n  let timeString = '';\r\n  let [ hour, minute ] = input.split(':');\r\n  hour = +hour;\r\n  \r\n  const isPM = hour >= 12;\r\n  if (isPM && hour > 12) {\r\n    hour = hour - 12;\r\n  }\r\n\r\n  if (!isPM && hour === 0) {\r\n    hour = 12;\r\n  }\r\n\r\n  timeString += hour < 10 ? '0' + hour : hour;\r\n  timeString += ':' + minute + ' ';\r\n  timeString += isPM ? 'PM' : 'AM';\r\n  return timeString;\r\n}\r\n","function repeat(str, times) {\r\n  let repeated = '';\r\n  for (let i = 1; i <= times; i++) {\r\n    repeated += str;\r\n  }\r\n\r\n  return repeated;\r\n}\r\n\r\nconst htmlTemplate = `\r\n<div class=\"simplepicker-wrapper\">\r\n  <div class=\"simpilepicker-date-picker\">\r\n    <div class=\"simplepicker-day-header\"></div>\r\n      <div class=\"simplepicker-date-section\">\r\n        <div class=\"simplepicker-month-and-year\"></div>\r\n        <div class=\"simplepicker-date\"></div>\r\n        <div class=\"simplepicker-select-pane\">\r\n          <button class=\"simplepicker-icon simplepicker-icon-calender active\" title=\"Select date from calender!\"></button>\r\n          <div class=\"simplepicker-time\">12:00 PM</div>\r\n          <button class=\"simplepicker-icon simplepicker-icon-time\" title=\"Select time\"></button>\r\n        </div>\r\n      </div>\r\n      <div class=\"simplepicker-picker-section\">\r\n        <div class=\"simplepicker-calender-section\">\r\n          <div class=\"simplepicker-month-switcher simplepicker-select-pane\">\r\n            <button class=\"simplepicker-icon simplepicker-icon-previous\"></button>\r\n            <div class=\"simplepicker-selected-date\"></div>\r\n            <button class=\"simplepicker-icon simplepicker-icon-next\"></button>\r\n          </div>\r\n          <div class=\"simplepicker-calender\">\r\n            <table>\r\n              <thead>\r\n                <tr><th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th></tr>\r\n              </thead>\r\n              <tbody>\r\n                ${ repeat('<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>', 6) }\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        <div class=\"simplepicker-time-section\">\r\n          <input type=\"time\" value=\"12:00\" autofocus=\"false\">\r\n        </div>\r\n      </div>\r\n      <div class=\"simplepicker-bottom-part\">\r\n        <button class=\"simplepicker-cancel-btn simplepicker-btn\" title=\"Cancel\">Cancel</button>\r\n        <button class=\"simplepicker-ok-btn simplepicker-btn\" title=\"OK\">OK</button>\r\n      </div>\r\n  </div>\r\n</div>\r\n`;\r\n\r\nexport default htmlTemplate;\r\n","import * as dateUtil from './date-util';\r\nimport htmlTemplate from './template';\r\n\r\n\r\nconst today = new Date();\r\nconst $ = (sel) => document.querySelector(sel);\r\nconst $$ = (sel) => document.querySelectorAll(sel);\r\n\r\nclass SimplePicker {\r\n  constructor(el) {\r\n    if (typeof el === 'string') {\r\n      el = $(el);\r\n    }\r\n\r\n    if (!el) {\r\n      throw new Error('SimplePicker: Valid selector or element must be passed!');\r\n    }\r\n\r\n    this.selectedDate = new Date();\r\n    this.$simplepicker = el;\r\n    this.injectTemplate(el);\r\n    this.init();\r\n    this.initListeners();\r\n\r\n    this._eventHandlers = [];\r\n    this._validOnListeners = [\r\n      'submit',\r\n      'close',\r\n    ];\r\n  }\r\n\r\n  init() {\r\n    this.$simplepicker = $('.simpilepicker-date-picker');\r\n    this.$simplepickerWrapper = $('.simplepicker-wrapper');\r\n    this.$trs = $$('.simplepicker-calender tbody tr');\r\n    this.$tds = $$('.simplepicker-calender tbody td');\r\n    this.$headerMonthAndYear = $('.simplepicker-month-and-year');\r\n    this.$monthAndYear = $('.simplepicker-selected-date');\r\n    this.$date = $('.simplepicker-date');\r\n    this.$day = $('.simplepicker-day-header');\r\n    this.$time = $('.simplepicker-time');\r\n    this.$timeInput = $('.simplepicker-time-section input');\r\n    this.$cancel = $('.simplepicker-cancel-btn');\r\n    this.$ok = $('.simplepicker-ok-btn');\r\n\r\n    this.render(dateUtil.scrapeMonth(today));\r\n\r\n    // find the todays date and select it.\r\n    const todaysDate = today.getDate().toString();\r\n    const $todayEl = this.findElementWithDate(todaysDate);\r\n    this.selectDate($todayEl);\r\n    this.updateDateComponents(today);\r\n  }\r\n\r\n  injectTemplate() {\r\n    const $template = document.createElement('template');\r\n    $template.innerHTML = htmlTemplate;\r\n    this.$simplepicker.appendChild($template.content.cloneNode(true));\r\n  }\r\n\r\n  clearRows() {\r\n    this.$tds.forEach((td) => {\r\n      td.innerHTML = '';\r\n      td.classList.remove('active');\r\n    });\r\n  }\r\n\r\n  updateDateComponents(date) {\r\n    const day = dateUtil.days[date.getDay()];\r\n    const month = dateUtil.months[date.getMonth()];\r\n    const year = date.getFullYear();\r\n    const monthAndYear = month + ' ' + year;\r\n    \r\n    this.$headerMonthAndYear.innerHTML = monthAndYear;\r\n    this.$monthAndYear.innerHTML = monthAndYear;\r\n    this.$day.innerHTML = day;\r\n    this.$date.innerHTML = dateUtil.getDisplayDate(date);\r\n  }\r\n\r\n  render(data) {\r\n    const { $trs } = this;\r\n    const { month, date } = data;\r\n  \r\n    this.clearRows();\r\n    month.forEach((week, index) => {\r\n      const $tds = $trs[index].children;\r\n      week.forEach((day, index) => {\r\n        const td = $tds[index];\r\n        if (!day) {\r\n          td.setAttribute('data-empty', '');\r\n          return;\r\n        }\r\n  \r\n        td.removeAttribute('data-empty');\r\n        td.innerHTML = day;\r\n      });\r\n    });\r\n  \r\n    this.updateDateComponents(date);\r\n  }\r\n\r\n  selectDate(el) {\r\n    const { $monthAndYear } = this;\r\n    const _date = el.innerHTML.trim() + '' + $monthAndYear.innerHTML.trim();\r\n    const date = new Date(_date);\r\n    this.selectedDate = date;\r\n  \r\n    const alreadyActive = $('.simplepicker-calender tbody .active');\r\n    el.classList.add('active');\r\n    if (alreadyActive) {\r\n      alreadyActive.classList.remove('active');\r\n    }\r\n  \r\n    this.updateDateComponents(date);\r\n  }\r\n\r\n  findElementWithDate(date, returnLastIfNotFound) {\r\n    const { $tds } = this;\r\n\r\n    let el, lastTd;\r\n    $tds.forEach((td) => {\r\n      const content = td.innerHTML.trim();\r\n      if (content === date) {\r\n        el = td;\r\n      }\r\n\r\n      if (content !== '') {\r\n        lastTd = td;\r\n      }\r\n    });\r\n\r\n    if (el === undefined && returnLastIfNotFound) {\r\n      el = lastTd;\r\n    }\r\n  \r\n    return el;\r\n  }\r\n\r\n  handleIconButtonClick(el) {\r\n    const baseClass = 'simplepicker-icon-';\r\n    const nextIcon = baseClass + 'next';\r\n    const previousIcon = baseClass + 'previous';\r\n    const calenderIcon = baseClass + 'calender';\r\n    const timeIcon = baseClass + 'time';\r\n  \r\n    if (el.classList.contains(calenderIcon)) {\r\n      const $timeIcon = $('.' + timeIcon);\r\n      const $timeSection = $('.simplepicker-time-section');\r\n      const $calenderSection = $('.simplepicker-calender-section');\r\n      \r\n      $calenderSection.style.display = 'block';\r\n      $timeSection.style.display = 'none';\r\n      $timeIcon.classList.remove('active');\r\n      el.classList.add('active');\r\n      return;\r\n    }\r\n  \r\n    if (el.classList.contains(timeIcon)) {\r\n      const $calenderIcon = $('.' + calenderIcon);\r\n      const $calenderSection = $('.simplepicker-calender-section');\r\n      const $timeSection = $('.simplepicker-time-section');\r\n  \r\n      $timeSection.style.display = 'block';\r\n      $calenderSection.style.display = 'none';\r\n      $calenderIcon.classList.remove('active');\r\n      el.classList.add('active');\r\n      return;\r\n    }\r\n  \r\n    let selectedDate;\r\n    const $active = $('.simplepicker-calender td.active');\r\n    if ($active) {\r\n      selectedDate = $active.innerHTML.trim();\r\n    }\r\n  \r\n    if (el.classList.contains(nextIcon)) {\r\n      this.render(dateUtil.scrapeNextMonth());\r\n    }\r\n  \r\n    if (el.classList.contains(previousIcon)) {\r\n      this.render(dateUtil.scrapePreviousMonth());\r\n    }\r\n  \r\n    if (selectedDate) {\r\n      let $dateTd = this.findElementWithDate(selectedDate, true);\r\n      this.selectDate($dateTd);\r\n    }\r\n  }\r\n\r\n  initListeners() {\r\n    const { \r\n      $simplepicker, $timeInput,\r\n      $ok, $cancel, $simplepickerWrapper\r\n    } = this;\r\n    const _this = this;\r\n    $simplepicker.addEventListener('click', function (e) {\r\n      const { target } = e;\r\n      const tagName = target.tagName.toLowerCase();\r\n\r\n      e.stopPropagation();\r\n      if (tagName === 'td') {\r\n        _this.selectDate(target);\r\n        return;\r\n      }\r\n\r\n      if (tagName === 'button' &&\r\n          target.classList.contains('simplepicker-icon')) {\r\n        _this.handleIconButtonClick(target);\r\n        return;\r\n      }\r\n    });\r\n\r\n    $timeInput.addEventListener('input', function (e) {\r\n      if (e.target.value === '') {\r\n        return;\r\n      }\r\n    \r\n      _this.$time.innerHTML = dateUtil.formatTimeFromInputElement(e.target.value);\r\n    });\r\n\r\n    $ok.addEventListener('click', function () {\r\n      _this.close();\r\n      _this.callEvent('submit', function (func) {\r\n        func(_this.selectedDate);\r\n      });\r\n    });\r\n\r\n    function close() {\r\n      _this.close();\r\n      _this.callEvent('close', function (f) { f() });\r\n    };\r\n\r\n    $cancel.addEventListener('click', close);\r\n    $simplepickerWrapper.addEventListener('click', close);\r\n  }\r\n\r\n  callEvent(event, dispatcher) {\r\n    const listeners = this._eventHandlers[event] || [];\r\n    listeners.forEach(function (func) {\r\n      dispatcher(func);\r\n    });\r\n  }\r\n\r\n  open() {\r\n    this.$simplepickerWrapper.classList.add('active');\r\n  }\r\n\r\n  // can be called by user or by click the cancel btn.\r\n  close() {\r\n    this.$simplepickerWrapper.classList.remove('active');\r\n  }\r\n\r\n  on(event, handler) {\r\n    const { _validOnListeners, _eventHandlers } = this;\r\n    if (!_validOnListeners.includes(event)) {\r\n      throw new Error('Not a valid event!');\r\n    }\r\n\r\n    _eventHandlers[event] = _eventHandlers[event] || [];\r\n    _eventHandlers[event].push(handler);\r\n  }\r\n}\r\n\r\nwindow.SimplePicker = SimplePicker;\r\n"],"sourceRoot":""}